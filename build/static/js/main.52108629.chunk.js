(this.webpackJsonpnotebook=this.webpackJsonpnotebook||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(8),o=n.n(r),a=(n(13),n(2)),s=n(7),l=n(5),u=(n(14),n(15),n(16),n(0));var d=function(e){var t=e.changeNoteColor,n=e.currentColor,i=void 0===n?"#28292c":n,r=Object(c.useContext)(h).colorList.map((function(e,n){var c=e.name,r=e.value;return Object(u.jsx)("span",{title:c,className:"Palette__color ".concat(r===i?"Palette__color--current":""),onClick:function(){return t(r)},style:{background:r}},n)}));return Object(u.jsxs)("span",{className:"Palette",children:[Object(u.jsx)("i",{className:"fas fa-palette"}),Object(u.jsx)("div",{className:"Palette__colorContainer",children:r})]})},j=function(e,t){var n;void 0!==t&&""!==(null===(n=t.target)||void 0===n?void 0:n.innerHTML)||(e.current.style.cssText="visibility: visible")},b=function(e){e.current.style.cssText="visibility: hidden"};var N=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],i=t[1],r=Object(c.useRef)(),o=Object(c.useRef)(),s=Object(c.useRef)(),l=Object(c.useRef)(),N=Object(c.useState)("#28292c"),f=Object(a.a)(N,2),v=f[0],O=f[1],_=Object(c.useState)(!1),m=Object(a.a)(_,2),x=m[0],p=m[1],y=Object(c.useContext)(h).notesModifier,C=function(){i(!1),O("#28292c"),s.current.textContent="",l.current.textContent="",j(o),j(r)};return Object(u.jsxs)("div",{style:{background:v},onClick:function(){return n?"":i(!0)},className:"NoteCreator",children:[Object(u.jsxs)("div",{className:"NoteCreator__textConteiner",children:[n&&Object(u.jsxs)("div",{className:"NoteCreator__titleContainer",children:[Object(u.jsx)("div",{onFocus:function(){return b(r)},onBlur:function(e){return j(r,e)},ref:s,contentEditable:"true",className:"NoteCreator__titleValue"}),Object(u.jsx)("div",{ref:r,className:"NoteCreator__textHolder NoteCreator__textHolder--title",children:"Tytu\u0142"}),Object(u.jsx)("div",{onClick:function(){return p(!x)},className:"NoteCreator__pin ".concat(x?"NoteCreator__pin--pined":""),children:Object(u.jsx)("i",{className:" fas fa-map-pin"})})]}),Object(u.jsxs)("div",{className:"NoteCreator__contentContainer",children:[Object(u.jsx)("div",{onFocus:function(){return b(o)},onBlur:function(e){return j(o,e)},ref:l,contentEditable:"true",className:"NoteCreator__contentValue"}),Object(u.jsx)("div",{ref:o,className:"NoteCreator__textHolder NoteCreator__textHolder",children:"Utw\xf3rz notatk\u0119..."})]})]}),n&&Object(u.jsxs)("div",{className:"NoteCreator__options",children:[Object(u.jsx)("div",{children:Object(u.jsx)(d,{changeNoteColor:function(e){O(e)},currentColor:v})}),Object(u.jsxs)("div",{className:"NoteCreator__rigthOptions",children:[Object(u.jsx)("span",{onClick:function(){if(""===s.current.textContent.trim()&&""===l.current.textContent.trim())return 1;var e={id:null,title:s.current.innerHTML,content:l.current.innerHTML,color:v,isPined:x};C(),y({type:"setNewNote",value:e})},className:"NoteCreator__addBtn",children:"Dodaj"}),Object(u.jsx)("span",{onClick:C,className:"NoteCreator__closeBtn",children:"Zamknij"})]})]})]})};n(18),n(19);var f=function(e){var t=e.data,n=e.setIsEditing,i=Object(c.useRef)(),r=Object(c.useRef)(),o=Object(c.useRef)(),s=Object(c.useRef)(),l=Object(c.useState)(t.title),j=Object(a.a)(l,1)[0],b=Object(c.useState)(t.content),N=Object(a.a)(b,1)[0],f=Object(c.useContext)(h).notesModifier,v=function(e,t){var n;void 0!==t&&""!==(null===(n=t.target)||void 0===n?void 0:n.innerHTML)||(e.current.style.cssText="visibility: visible")},O=function(e){e.current.style.cssText="visibility: hidden"};return Object(c.useEffect)((function(){""!=i.current.innerHTML&&(o.current.style.cssText="visibility: hidden"),""!=r.current.innerHTML&&(s.current.style.cssText="visibility: hidden")}),[]),Object(u.jsx)("div",{className:"curtain",onClick:function(e){return function(e){"curtain"===e.target.className&&n(!1)}(e)},children:Object(u.jsxs)("div",{className:"NoteEditor",style:{background:t.color},children:[Object(u.jsxs)("div",{className:"NoteEditor__textContainer",children:[Object(u.jsxs)("div",{className:"NoteEditor__titleContainer",children:[Object(u.jsx)("div",{onFocus:function(){return O(o)},onBlur:function(e){return v(o,e)},ref:i,contentEditable:"true",className:"NoteEditor__titleValue",onKeyUp:function(e){return f({type:"changeNoteProperties",value:{id:t.id,propertyName:"title",newValue:e.target.innerHTML}})},dangerouslySetInnerHTML:{__html:j&&j}}),Object(u.jsx)("div",{ref:o,className:"NoteEditor__textHolder NoteEditor__textHolder--title",children:"Tytu\u0142"}),Object(u.jsx)("div",{className:"NoteEditor__pin ".concat(t.isPined&&"NoteEditor__pin--pined"),children:Object(u.jsx)("i",{onClick:function(){return f({type:"changePinStatus",value:{id:t.id}})},className:" fas fa-map-pin"})})]}),Object(u.jsxs)("div",{className:"NoteEditor__contentContainer",children:[Object(u.jsx)("div",{onFocus:function(){return O(s)},onBlur:function(e){return v(s,e)},ref:r,contentEditable:"true",onKeyUp:function(e){return f({type:"changeNoteProperties",value:{id:t.id,propertyName:"content",newValue:e.target.innerHTML}})},className:"NoteEditor__contentValue",dangerouslySetInnerHTML:{__html:N}}),Object(u.jsx)("div",{ref:s,className:"NoteEditor__textHolder NoteEditor__textHolder--content",children:"Utw\xf3rz notatk\u0119..."})]})]}),Object(u.jsxs)("div",{className:"NoteEditor__options",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("i",{title:"usu\u0144",onClick:function(){f({type:"delete",value:{id:t.id}})},className:"NoteEditor__option fas fa-trash"}),Object(u.jsx)("i",{title:"kopiuj",onClick:function(){f({type:"copy",value:{id:t.id}})},className:"NoteEditor__option fas fa-copy"}),Object(u.jsx)(d,{changeNoteColor:function(e){e!==t.color&&f({type:"changeNoteProperties",value:{id:t.id,propertyName:"color",newValue:e}})},currentColor:t.color})]}),Object(u.jsx)("div",{className:"NoteEditor__rigthOptions",children:Object(u.jsx)("span",{onClick:function(){return n(!1)},className:"NoteEditor__closeBtn",children:"Zamknij"})})]})]})})};var v=function(e){var t=e.data,n=Object(c.useContext)(h).notesModifier,i=Object(c.useState)(!1),r=Object(a.a)(i,2),o=r[0],s=r[1],l=Object(c.useState)(!1),j=Object(a.a)(l,2),b=j[0],N=j[1],v=Object(c.useRef)(),O=Object(c.useRef)(),_=function(){var e=v.current.scrollHeight-v.current.clientHeight;s(e>5)},m=Object(c.useRef)(!1);Object(c.useEffect)((function(){m.current&&!b&&(_(),n({type:"formatNote",value:{id:t.id}})),m.current=!0}),[b,n,t.id]),Object(c.useEffect)((function(){N(!1),setTimeout(_,500),n({type:"formatNote",value:{id:t.id}}),O.current.classList.add("noteFadeIn")}),[n,t.id]);var x=function(e){O.current.classList.remove("noteFadeIn"),O.current.classList.add("noteFadeOut"),setTimeout(e,500)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{background:t.color,visibility:b?"hidden":"visible"},ref:O,className:"Note",children:[Object(u.jsxs)("div",{ref:v,className:"Note__textContainer",children:[Object(u.jsx)("header",{className:"Note__title",children:Object(u.jsxs)("div",{className:"Note__titleValue",children:[Object(u.jsx)("div",{onClick:function(){x((function(){return n({type:"changePinStatus",value:{id:t.id}})}))},className:"Note__pinIcon ".concat(t.isPined?"Note__pinIcon--pined":""),children:Object(u.jsx)("i",{className:"fas fa-map-pin"})}),Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:t.title?t.title:"<br />"},onClick:function(){return N(!0)}})]})}),Object(u.jsx)("div",{onClick:function(){return N(!0)},className:"Note__content",dangerouslySetInnerHTML:{__html:t.content?t.content:"<br />"}})]}),o&&Object(u.jsx)("div",{className:"Note__continuationDots",children:"..."}),Object(u.jsxs)("div",{className:"Note__options",children:[Object(u.jsx)("i",{title:"usu\u0144",onClick:function(){x((function(){return n({type:"delete",value:{id:t.id}})}))},className:"fas fa-trash"}),Object(u.jsx)("i",{title:"kopiuj",onClick:function(){return n({type:"copy",value:{id:t.id}})},className:"fas fa-copy"}),Object(u.jsx)(d,{changeNoteColor:function(e){e!==t.color&&(t.color=e,n({type:"edit",value:{id:t.id,newVersion:t}}))},currentColor:t.color})]})]}),b&&Object(u.jsx)(f,{data:t,setIsEditing:N})]})};n(20);var O=function(e){var t=e.list,n=t.filter((function(e){return!0===e.isPined})),c=t.filter((function(e){return!1===e.isPined}));return Object(u.jsxs)("div",{className:"NoteBook",children:[Object(u.jsx)(N,{}),Object(u.jsxs)("div",{className:"NoteBook__main",children:[0!==n.length&&Object(u.jsx)("span",{className:"NoteBook__category",children:"Przypi\u0119te"}),Object(u.jsx)("div",{className:"NoteBook__noteDisplay",children:n.map((function(e){return Object(u.jsx)(v,{data:e},e.id)}))}),0!==c.length&&Object(u.jsx)("span",{className:"NoteBook__category",children:"Inne"}),Object(u.jsx)("div",{className:"NoteBook__noteDisplay",children:c.map((function(e){return Object(u.jsx)(v,{data:e},e.id)}))})]})]})},_=[{name:"Czarny",value:"#28292c"},{name:"Czerwony",value:"#5C2B29"},{name:"Pomara\u0144cz",value:"#614A19"},{name:"\u017b\xf3\u0142ty",value:"#635D19"},{name:"Zielony",value:"#345920"},{name:"Morski",value:"#16504B"},{name:"Niebieski",value:"#2D555E"},{name:"Ciemny Niebieski",value:"#1E3A5F"},{name:"Fiolet",value:"#42275E"},{name:"R\xf3\u017c",value:"#5B2245"},{name:"Br\u0105z",value:"#442F19"},{name:"Szary",value:"#3C3F43"}],m=function(e){for(var t=e.map((function(e){return e.id})),n=1;;n++)if(-1===t.indexOf(n))return n},x=function(e){return e.replace(/^(<div> *<br><\/div>)*|(<div> *<br><\/div>)*$/gm,"")},p=function(e,t){var n,c,i=Object(l.a)(e),r="setNewNote"!==t.type&&(n=t.value.id,e.findIndex((function(e){return e.id===n})));switch(t.type){case"formatNote":return i[r].title=x(i[r].title),i[r].content=x(i[r].content),i;case"changeNoteProperties":return i[r][t.value.propertyName]=t.value.newValue,i;case"setNewNote":var o=t.value;return o.id=m(e),[].concat(Object(l.a)(e),[o]);case"edit":return i[r]=t.value.newVersion,i;case"changePinStatus":return(c=Object(s.a)({},i[r])).isPined=!c.isPined,i.splice(r,1),[c].concat(Object(l.a)(i));case"delete":return i.splice(r,1),i;case"copy":return(c=Object(s.a)({},e[r])).id=m(e),i.splice(r+1,0,c),i;default:return e}},h=Object(c.createContext)();var y=function(){var e=Object(c.useReducer)(p,JSON.parse(window.localStorage.getItem("notes"))||[]),t=Object(a.a)(e,2),n=t[0],i=t[1],r=Object(c.useRef)(!0);return Object(c.useEffect)((function(){var e;!1===r.current&&(e=n,window.localStorage.setItem("notes",JSON.stringify(e))),r.current=!1}),[n]),Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(h.Provider,{value:{colorList:_,notesModifier:i},children:[Object(u.jsx)("div",{className:"App__banner",children:Object(u.jsx)("header",{className:"App__title",children:"NOTATNIK"})}),Object(u.jsx)("div",{className:"App__line"}),Object(u.jsx)(O,{list:n})]})})};o.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.52108629.chunk.js.map